{% extends 'base/base.html' %} {% block body %} {% load static %}
{% load index %}
{% load url_replace %}
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<!-- Chart code -->
<script>
    am4core.ready(function () {

        // Themes begin
        am4core.useTheme(am4themes_animated);
        // Themes end

        var chart = am4core.create("chartdiv", am4plugins_wordCloud.WordCloud);
        chart.fontFamily = "";
        var series = chart.series.push(new am4plugins_wordCloud.WordCloudSeries());
        series.randomness = 0.1;
        series.rotationThreshold = 0.5;
        series.minFontSize = 10;


        {% comment %} series.data = [{
            "tag": "validation",
            "count": "55531"
        }]; {% endcomment %}

        series.data = [
            {% for item in datatitle %}
            {
                "tag": "{{ labeltitle|index:forloop.counter0 }}",
                "count": "{{ datatitle|index:forloop.counter0 }}"
            },
            {% endfor %}
        ]

        series.dataFields.word = "tag";
    series.dataFields.value = "count";

    series.heatRules.push({
        "target": series.labels.template,
        "property": "fill",
        "min": am4core.color("#000000"),
        "max": am4core.color("#FF4500"), //green
        "dataField": "value"
    });
    
        {% comment %} series.labels.template.url = ""; 
        series.labels.template.urlTarget = "_blank"; {% endcomment %}
        series.labels.template.tooltipText = "{word}: {value}";

    var hoverState = series.labels.template.states.create("hover");
    hoverState.properties.fill = am4core.color("#000");



    //done care

    {% comment %} 
    var subtitle = chart.titles.create();
    subtitle.text = "(click to open)";

    var title = chart.titles.create();
    title.text = "Scholar";
    title.fontSize = 20;
    title.fontWeight = "800"; 
    {% endcomment %}
    
    }); // end am4core.ready()
</script>

{% if user.is_superuser %}

<div class="container mt-5">
    <div class="row">
        <div class="col">
            <div class="row">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="avatar">
                        {% if profile.avatar %}
                        <img src="{{profile.avatar.url}}" alt=""
                            style="width:150px; height:150px;object-fit:cover; border-radius:50%"> {% endif %}
                    </div>
                </div>
                <div class="d-flex">
                    <div class="mx-auto">
                        <span class="badge rounded-pill bg-danger mt-4" style="width:80px">Admin</span>
                        <span class="badge rounded-pill bg-warning text-dark">fpt.edu.vn</span>
                        <span class="badge rounded-pill bg-success">Scholar</span>
                    </div>
                </div>
            </div>
            <div style="padding: 60px;"></div>
            <div class="row ">
                <div class="mx-auto" style="width: 50%">
                    <div class="w-100 text-center mb-5">
                        <h4>Fpt Scholar <span class="badge bg-danger">GET DATA</span></h4>
                    </div>
                    <div class="progress mb-5">
                        <div id="progress-bar" class="progress-bar  bg-warning" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="w-100 text-center">
                        <button type="button" class="btn btn-secondary mb-3" id="updateArticleButton">Get Article</button>
                        <div></div>
                        <button type="button" class="btn btn-secondary" id="updateDataButton">Get Profile</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="col-lg-4">
            <div class="row">
            </div>
        </div> -->
    </div>
</div>

<script>
    $(document).ready(function() {
        $('#updateArticleButton').click(function() {
            
        })
        $('#updateDataButton').click(function() {
           
        })
    })
</script>

{% else %}
<!-- HTML -->
{% if datatitle %}
<div id="chartdiv"></div>
{% endif %}


<div class="container mt-5">
    <div class="row row-cols-md-1 row-cols-lg-2">
        <div class="col-lg-8">
            <div class="row">
                <div>
                    {% if datatitle %}
                        <div class="container mb-5">
                            <div style="width: 100%; overflow-x: auto; overflow-y: hidden">
                                <div style="width: 1000px; height: 300px">
                                    <canvas id="pie-chart-title" height="300" width="0"></canvas>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                    <script>
                        var ctx = document.getElementById('pie-chart-title').getContext('2d');
                        var myChart = new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: {{ labeltitle| safe}},
                        datasets: [{
                            label: 'keyword',
                            data: {{ datatitle| safe}},
                            backgroundColor: [
                            {%for x in datatitle %}
                                'rgba(211, 84, 0, 1)', 
                            {% endfor %}
                                    ],
                        borderWidth: 1
                                }]
                            },
                        options: {
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            },
                        },
                         responsive: true,
                            maintainAspectRatio: false
                        });
                        
                    </script>
                </div>
            </div>
            <div class="row">
                <div class="d-flex align-items-center">
                    <div class="avatar">
                        {% if profile.avatar %}
                        <img src="{{profile.avatar.url}}" alt=""
                            style="width:150px; height:150px;object-fit:cover; border-radius:50%"> {% endif %}
                    </div>
                    <div class="ms-4">
                        <p >{{profile.name}}</p>
                        <p>{{profile.Affiliation}}</p>
                        {% if profile.EmailForVerification %}
                        <p>{{profile.EmailForVerification}}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="row mt-5">
                <div class="list-group">
                    <table class="table table-hover">
                        <thead>
                            <th class="col">
                                <div class="d-flex">
                                    <p class="text-primary-orange">TITLE</p>
                                    <div class="dropdown ms-3">
                                        <button class="btn dropdown-toggle" type="button"
                                            id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" style="background-color:orangered; color:white">
                                            Add article
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                            {% if user.is_superuser %}
                                            <li id="updateDataButton"><a class="dropdown-item select--dropdown--hover" href="">Update Profile</a></li>
                                            <li id="updateArticleButton"><a class="dropdown-item select--dropdown--hover" href="">Update Article</a></li>
                                            <li><a class="dropdown-item select--dropdown--hover" href="https://fpthanoischolar.azurewebsites.net/admin/">Admin site</a></li>
                                            {% else %}
                                            <li>
                                                <div>
                                                    <button type="button" class="btn w-100 select--dropdown--hover" data-bs-toggle="modal"
                                                        data-bs-target="#exampleModalAddArticle1">
                                                        Add article
                                                    </button>
                                                </div>
                                            </li>
                                            {% endif %}
                                        </ul>
                                        <!-- Modal -->
                                        <div class="modal fade" id="exampleModalAddArticle1" tabindex="-1"
                                            aria-labelledby="exampleModalAddArticle1" aria-hidden="true">
                                            <div class="modal-dialog modal-lg modal-dialog-scrollable">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title text-primary-orange" id="exampleModalAddArticle1">Form Add
                                                            Article</h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                            aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body" style="">
                                                        <div class="container justify-content-center d-flex mt-3 mb-3">
                                                            <form action="" method="POST" id="FormAddArticle" style="width:100%">
                                                                {% csrf_token %} 
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_title" class="form-label text-primary-orange">Title</label>
                                                                    <input type="text" name="title" maxlength="256" required="" id="id_title"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_author" class="form-label text-primary-orange">Author</label>
                                                                    <input type="text" name="author" maxlength="256" required="" id="id_author"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_publication_date" class="form-label text-primary-orange">Publication date</label>
                                                                    <input type="text" name="publication_date" maxlength="256" id="id_publication_date"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_journal" class="form-label text-primary-orange">Journal</label>
                                                                    <input type="text" name="journal" maxlength="256" id="id_journal"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_book" class="form-label text-primary-orange">Book</label>
                                                                    <input type="text" name="book" maxlength="256" id="id_book"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_volume" class="form-label text-primary-orange">Volume</label>
                                                                    <input type="number" name="volume" id="id_volume"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_issue" class="form-label text-primary-orange">Issue</label>
                                                                    <input type="text" name="issue" maxlength="256" id="id_issue"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_conference" class="form-label text-primary-orange">Conference</label>
                                                                    <input type="text" name="conference" maxlength="256" id="id_conference"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_page" class="form-label text-primary-orange">Page</label>
                                                                    <input type="text" name="page" maxlength="256" id="id_page"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_publisher" class="form-label text-primary-orange">Publisher</label>
                                                                    <input type="text" name="publisher" maxlength="256" id="id_publisher"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_description" class="form-label text-primary-orange">Description</label>
                                                                    <textarea name="description" cols="40" rows="10" id="id_description" class="form-control button--outline--primary"></textarea>
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_url" class="form-label text-primary-orange">Url</label>
                                                                    <input type="url" name="url"id="id_url" class="form-control button--outline--primary">
                                                                </div>
                                                                <div class="mb-3 w-70">
                                                                    <label for="id_total_citations" class="form-label text-primary-orange">Total citations</label>
                                                                    <input type="number" name="total_citations"  id="id_total_citations"
                                                                        class="form-control button--outline--primary">
                                                                </div>
                                                                <!-- {{articleForm.as_p}} -->
                                                                {% comment %} <button type="submit"
                                                                    class="btn btn-primary">Submit</button> {%endcomment %}
                                                            </form>
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary"
                                                            data-bs-dismiss="modal">Close</button>
                                                        <button class="btn" id="addArticleProfile" style="background-color: orangered;color:#dadada">Save
                                                            changes</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </th>
                            <th class="col-2 text-center">
                                <div>
                                    <p class="text-primary-orange">CYTED BY</p>
                                </div>
                            </th>
                            <th class="col-2 text-center ">
                                <div>
                                    <p class="text-primary-orange">YEAR</p>
                                </div>
                            </th>
                        </thead>
                        {% if articles %}
                        <tbody>
                            {% for article in articles %}
                            <tr>
                                <td class="col">
                                    <a type="button" data-bs-toggle="modal" data-bs-target="#article-{{article.id}}">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1 textlinelimit" >{{article.title}}</h5>
                                        </div>
                                        {% if article.author %}
                                        <p class="mb-1 textlinelimit" style=" overflow: hidden;
                                        text-overflow: ellipsis;
                                        display: -webkit-box;
                                        -webkit-line-clamp: 1;
                                        -webkit-box-orient: vertical;">{{article.author}}</p>
                                        {% endif %} {% if article.conference %}
                                        <p class="mb-1 textlinelimit" style=" overflow: hidden;
                                        text-overflow: ellipsis;
                                        display: -webkit-box;
                                        -webkit-line-clamp: 1;
                                        -webkit-box-orient: vertical;">{{article.conference}}</p>
                                        {% endif %}
                                    </a>
                                </td>
                                {% if article.total_citations %}
                                <td class="col-2 text-center text-primary-orange">{{article.total_citations}}</td>
                                {% else %}
                                <td class="text-center text-primary-orange">_</td>
                                {% endif %} {% if article.publication_date %}
                                <td class="col-2 text-center">{{article.publication_date}}</td>
                                {% else %}
                                <td class="text-center">_</td>
                                {% endif %}
                            </tr>
                            <div class="modal fade" id="article-{{article.id}}" tabindex="-1"
                                aria-labelledby="article-{{article.id}}" aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-dialog-scrollable">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <!-- <h5 class="modal-title" id="exampleModalLabel">title</h5> -->
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="mb-3" style="padding-left:20px;">
                                                <h5 style="">
                                                    <a href="{{article.url}}"
                                                        style="text-decoration:none; color:orangered" target="_blank">{{article.title}}</a>
                                                </h5>
                                            </div>
                                            <div>
                                                <div class="">
                                                    {% if article.author %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Author
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.author}}
                                                        </div>
                                                    </div>
                                                    {% endif %} {% if article.publication_date %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Publication date
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.publication_date}}
                                                        </div>
                                                    </div>
                                                    {% endif %} {% if article.journal %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Journal
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.journal}}
                                                        </div>
                                                    </div>
                                                    {% endif %} {% if article.book %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Book
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.book}}
                                                        </div>
                                                    </div>
                                                    {% endif %} {% if article.conference %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Conference
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.conference}}
                                                        </div>
                                                    </div>
                                                    {% endif %} {% if article.volume %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Volume
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.volume}}
                                                        </div>
                                                    </div>
                                                    {% endif %} {% if article.page %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Page
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.page}}
                                                        </div>
                                                    </div>
                                                    {% endif %} {% if article.publisher %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Publisher
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.publisher}}
                                                        </div>
                                                    </div>
                                                    {% endif %} {% if article.description %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Description
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.description}}
                                                        </div>
                                                    </div>
                                                    {% endif %} {% if article.total_citations %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Total Citations
                                                        </div>
                                                        <div class="col-8">
                                                            {{article.total_citations}}
                                                        </div>
                                                    </div>
                                                    {% endif %}
                                                    <div class="row">
                                                        <div class="col-2 text-end text-primary-orange">
                                                            Scholar articles
                                                        </div>
                                                        <div class="col-8">
                                                            <a href="{{article.url}}"
                                                                style="text-decoration: none; color:orangered" target="_blank">{{article.title}}</a>
                                                            <p style="margin: 0">{{article.author}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                            <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </tbody>
                        {% endif %}
                    </table>
                    {% if articles %}
                    <div class="d-flex w-100 justify-content-center mt-5 mb-5">
                        <nav aria-label="Page navigation example">
                            <ul class="pagination">
                                {% if articles.has_previous %}
                                <li class="page-item"><a class="page-link"  href="?{% url_replace page=articles.previous_page_number %}" style="color:orangered">&laquo;</a></li>
                                {% else %}
                                <li class="page-item disabled"><a class="page-link disabled" style="color:orangered">&laquo;</a></li>
                                {% endif %}
                        
                                {% if articles.number > 3 %}
                                <li class="page-item"><a class="page-link" href="?{% url_replace page=1 %}" style="color:orangered"><i>1</i></a></li>
                                {% endif %}
                        
                                {% for i in articles.paginator.page_range %}
                                    {% if i > articles.number|add:"-2" %}
                                        {% if i < articles.number|add:"2" %}
                                            {% if articles.number == i %}
                                                <li class="page-item active" aria-current="page"><a class="page-link active" style="background-color: orangered; border-color:orangered">{{ i }}</a></li>
                                            {% else %}
                                                <li class="page-item"><a class="page-link" href="?{% url_replace page=i %}" style="color:orangered">{{ i }}</a></li>
                                            {% endif %} 
                                        {% endif %}
                                    {% endif %}
                                {% endfor %}
                        
                                {% if articles.number < articles.paginator.num_pages|add:"-2" %}
                                <li class="page-item"><a class="page-link" href="?{% url_replace page=articles.paginator.num_pages %}" style="color:orangered"><i>{{ articles.paginator.num_pages }}</i></a></li>
                                {% endif %}
                        
                                {% if articles.has_next %}
                                <li class="page-item"><a class="page-link" href="?{% url_replace page=articles.next_page_number %}" style="color:orangered">&raquo;</a></li>
                                {% else %}
                                <li class="page-item disabled"><a  class="page-link disabled" style="color:orangered">&raquo;</a></li>
                                {% endif %}
                            </ul>
                        </nav>
                    </div>
                    {% else %}
                    <div class="d-flex w-100 justify-content-center mt-5 mb-5">
                        <div class="mt-5 mb-5">
                            <h3 class="display-6 mt-5">Not found article</h3>
                        </div>
                    </div>  
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="p-4" style="border-left: 1px solid #dadada">
                <div class="w-100 d-flex justify-content-center mt-5 mb-5">
                    <img src="https://i1.wp.com/hanoi.fpt.edu.vn/wp-content/uploads/2018/01/logo.png?fit=237%2C64&ssl=1" alt="" style="width:180px">
                </div>
                <div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col"></th>
                                <th scope="col">All</th>
                                <th scope="col">Since 2016</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Citations</td>
                                <td>{{totalCitations}}</td>
                                <td>{{totalCitationsSince}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div>
                    {% if data %}
                    <div class="container" style="">
                        <canvas id="pie-chart"></canvas>
                    </div>
                    {% endif %}
                    <script>
                        var ctx = document.getElementById('pie-chart').getContext('2d');
                        var myChart = new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: {{ labels| safe}},
                        datasets: [{
                            label: 'citations',
                            data: {{ data| safe}},
                            backgroundColor: [
                            {%for x in data %}
                        'rgba(0, 0, 0, 0.5)',
                            {% endfor %}
                                    ],
                        borderWidth: 1
                                }]
                            },
                        options: {
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            }
                        }
                        });
                    </script>
                </div>
                <div class="mt-5 p-2">
                    <div class="mb-3 ms-2 d-flex align-items-center">
                        <div class="align-self-end">
                            <h6>Co-author</h6>
                        </div>
                        <div class="ms-auto">
                            <!-- Button trigger modal -->
                            <button type="button" class="btn" data-bs-toggle="modal"
                                data-bs-target="#exampleModalLabelCoauthor" style="background-color:orangered">EDIT</button>
                            <!-- Modal -->
                            <div class="modal fade" id="exampleModalLabelCoauthor" tabindex="-1"
                                aria-labelledby="exampleModalLabelCoauthor" aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabelCoauthor">Co-author</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            {% csrf_token %}
                                            <div class="row d-flex justify-content-center align-items-start">
                                                <div class="col col-10">
                                                    <h1 class="display-4 text-center mb-5" id="headerhome" style="color: orangered;">Profile</h1>
                                                    <div class="d-flex" id="homeSearchForm">
                                                        <input type="text" name="name" id="id_name"
                                                            class="form-control inputSearchForm">
                                                        <button type="submit" class="btn btn-success"
                                                            id="buttonSearchCoAuthor" style="background-color: orangered;">Search</button>
                                                    </div>
                                                    <div id="searchCoauthor_results">
                                                        {% comment %} {{CoAuthorForm.as_p}} {% endcomment %}
                                                        <form id="#coAuthor">
                                                            {% csrf_token %}
                                                            <ul id="id_coAuthor" class=""
                                                                style="list-style-type:none; margin:0; padding:0">
                                                                {% for profileitem in profilelist %} {% if not profileitem.user == user %}
                                                                <li>
                                                                    <div>
                                                                        <label
                                                                            for="id_coAuthor_{{profileitem.id|add:-1}}"
                                                                            class="form-check-label d-flex align-items-center">
                                                                            <div
                                                                                class="d-flex pt-3 pb-3 align-items-center">
                                                                                <div>
                                                                                    <div class="avatar"
                                                                                        style="width:80px; height:80px">
                                                                                        {% if profileitem.avatar %}
                                                                                        <img src="{{profileitem.avatar.url}}"
                                                                                            alt=""
                                                                                            style="width:100%;height:100%; border-radius:50%">
                                                                                        {% endif %}
                                                                                    </div>
                                                                                </div>
                                                                                <div class="ms-3">
                                                                                    <a href="{% url 'register:profiledetail' profileitem.id %}"
                                                                                        class="text-dark text-decoration-none">
                                                                                        <p style="margin: 0;"
                                                                                            class="link-success">
                                                                                            {{profileitem.name}}</p>
                                                                                    </a>
                                                                                    <p style="margin: 0;">
                                                                                        {{profileitem.Affiliation}}</p>
                                                                                    {% if profileitem.EmailForVerification %}
                                                                                    <p style="margin: 0;">
                                                                                        {{profileitem.EmailForVerification}}
                                                                                    </p>
                                                                                    {% endif %}
                                                                                </div>
                                                                            </div>
                                                                            </lable>
                                                                            <style>
                                                                                input[type=checkbox] {
                                                                                    /* Double-sized Checkboxes */
                                                                                    -ms-transform: scale(1.3);
                                                                                    /* IE */
                                                                                    -moz-transform: scale(1.3);
                                                                                    /* FF */
                                                                                    -webkit-transform: scale(1.3);
                                                                                    /* Safari and Chrome */
                                                                                    -o-transform: scale(1.3);
                                                                                    /* Opera */
                                                                                    padding: 4px;
                                                                                    background-color: orangered;
                                                                                }
                                                                            </style>
                                                                            <input type="checkbox" name="coAuthor"
                                                                                value="{{profileitem.id}}"
                                                                                id="id_coAuthor_{{profileitem.id|add:-1}}"
                                                                                class="ms-auto chekboxCoAuthor"
                                                                                data-id="{{profileitem.id}}" {% if profileitem.id in coAuthorList %}checked{% endif %}>
                                                                    </div>
                                                                </li>
                                                                {% endif %}
                                                                {% endfor %}
                                                                <style>
                                                                    .chekboxCoAuthor:checked{
                                                                        background-color: orangered!important;
                                                                        border-color:orangered!important;
                                                                    }
                                                                    .chekboxCoAuthor:focus{
                                                                        background-color: orangered!important;
                                                                        border-color:orangered!important;
                                                                    }
                                                                </style>
                                                            </ul>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-success"
                                                data-bs-dismiss="modal">Done</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="" style="border-top:1px solid #dadada" id="listCoAuthorProfile">
                        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
                        {% for item in authorlist %}
                        <a class="text-dark text-decoration-none m-1"
                            href="{% url 'register:profiledetail' item.coAuthor.id %}">
                            <div class="d-flex align-items-center">
                                <div class="avatar" style="width:30px; height:30px">
                                    {% if item.coAuthor.avatar %}
                                    <img src="{{item.coAuthor.avatar.url}}" alt=""
                                        style="width:30px; height:30px; border-radius:50%;object-fit:cover">
                                    {% endif %}
                                </div>
                                <div class="ms-2">
                                    <p style="margin: 0;" class="" style="color: orangered;font-weight:400"> {{item.coAuthor.name}}</p>
                                    <p
                                        style="margin:0;overflow: hidden;text-overflow: ellipsis; display: -webkit-box;-webkit-line-clamp: 1; -webkit-box-orient: vertical;">
                                        {{item.coAuthor.Affiliation}}</p>
                                </div>
                            </div>
                        </a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endif %}


{% endblock body %}